<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Git Log</title>
    <link rel='stylesheet' type='text/css' href='bundle.css' />
    <style id="_defaultStyles">
      :root {
        --vscode-editor-background: white; 
        --vscode-editorGutter-deletedBackground: #a54141; 
        --vscode-editorGutter-addedBackground: green; 
        --vscode-terminal-ansiBrightBlack: gray;
      }
    </style>
    <script>
      window['configuration'] = <%- JSON.stringify(config) %>;

      function receiveMessage(event) {
        if(event.origin !== "null") return;

        console.log('Applying styles received from parent frame...');
        document.getElementById('_defaultStyles').innerHTML = ':root { ' + event.data +  '  }';
      }

      try
      {
        // if same origin assum it is opened from external browser (for debugging puposes)
          sameOrigin = window.parent.location.host == window.location.host;
      }
      catch (e)
      {
        document.getElementById('_defaultStyles').innerHTML = '';
      }

      window.addEventListener('message', receiveMessage, false);
    </script>
  </head>
    <body>
        <div id=root></div>
        <script type="text/javascript" src="/bundle.js"></script>
    </body>
</html>
